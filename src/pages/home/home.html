<!--<ion-header>

  <ion-navbar>
    <ion-title>Bedrijven</ion-title>
  </ion-navbar>

</ion-header>-->
<ion-header>
  <ion-navbar no-border-bottom>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-segment [(ngModel)]="segment" (ionChange)="segmentChanged()">
      <ion-segment-button value="all">
        Bedrijven
      </ion-segment-button>
      <ion-segment-button value="favorites">
        Favorieten
      </ion-segment-button>
    </ion-segment>

    <ion-buttons end>
      <button ion-button icon-only (click)="presentFilter()">
        <ion-icon ios="ios-options-outline" md="md-options"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-toolbar no-border-top>
    <ion-searchbar color="primary"
                   [(ngModel)]="queryText"
                   (ionInput)="updateCompanies()"
                   placeholder="Zoeken">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div [ngSwitch]="segment">
    <!--<div  *ngSwitchCase="'all'">-->

    <ion-list *ngFor="let group of groupedCompanies">

      <ion-item-divider light>{{group.letter}}</ion-item-divider>
      <!--<ion-item *ngFor="let company of group.companies">{{company}}</ion-item>-->
      <ion-item-sliding *ngFor="let company of group.companies | favoriteSelection | groupSelection | fullTextSearch:queryText:'name'" #slidingItem>
        <ion-item (click)="goToCompanyDetail(company)">
          <div style="float:left;">

            <div *ngFor="let category of company.categories" style="float:left;">
              <canvas width="4" height="38" [ngStyle]="{'background': category}"></canvas>
              <div class="horizontalgap" style="width:8px"></div>
            </div>

          </div>
          <div style="padding-left: 45px;">
            <h3>{{company.name}}</h3>
            <p>Standnummer: {{company.standno}}</p>
          </div>
        </ion-item>
        <ion-item-options>
          <button ion-button color="favorite" (click)="addFavorite(slidingItem, company)" *ngIf="segment === 'all'">
            <ion-icon name="ios-heart-outline"></ion-icon>Favoriet
          </button>
          <button ion-button color="danger" (click)="removeFavorite(slidingItem, company, 'Verwijder favoriet')" *ngIf="segment === 'favorites'">
            <ion-icon name="ios-remove-circle-outline"></ion-icon>Verwijder
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>

  <!--</div>-->
</div>

</ion-content>
